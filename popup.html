<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Proxy Scraper y Gestor</title>
  <link rel="stylesheet" href="css/popup.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
  <div class="container">
    <h2>Proxy Scraper y Gestor</h2>
    
    <div class="status">
      <div>
        <span id="status" class="status-text status-idle">Listo</span>
        <div id="statusMessage" class="status-message">Esperando acción...</div>
      </div>
      <div class="proxy-stats">
        <span><i class="fas fa-check-circle" style="color: #4CAF50;"></i> Activos: <span id="proxyCount">0</span></span>
        <span><i class="fas fa-times-circle" style="color: #e74c3c;"></i> Inactivos: <span id="inactiveCount">0</span></span>
        <span><i class="fas fa-cog" style="color: #3498db;"></i> Total: <span id="totalCount">0</span></span>
      </div>
    </div>

    <div class="current-proxy">
      <h3><i class="fas fa-wifi"></i> Proxy Actual</h3>
      <div id="currentProxy" class="proxy-box">
        <div class="proxy-info">
          <div class="proxy-address">Sin proxy seleccionado</div>
          <div class="proxy-ip">Conectado directamente</div>
        </div>
        <div class="proxy-status">
          <span class="status-indicator"></span>
          <span class="status-text">Desconectado</span>
        </div>
      </div>
      <button id="disconnectBtn" class="disconnect-btn" disabled>
        <i class="fas fa-plug"></i> Desconectar Proxy
      </button>
    </div>

    <div class="loading" id="loading">
      <div class="spinner"></div>
      <div id="loadingText">Buscando y verificando proxies...</div>
    </div>

    <div class="proxy-list">
      <div class="proxy-list-header">
        <span>Proxies Disponibles</span>
        <span id="updateAvailableBadge" class="update-badge" style="display: none;">Actualización</span>
      </div>
      <div id="proxyList">
        <!-- Los proxies se cargarán aquí dinámicamente -->
      </div>
    </div>

    <div class="update-section">
      <button id="checkUpdateBtn" class="secondary">
        <i class="fas fa-sync"></i> Verificar Actualizaciones
      </button>
      <div class="version-info">
        <span>Versión: <span id="currentVersion">1.0.1</span></span>
        <a href="#" id="updateLink" style="display: none;">
          <i class="fas fa-download"></i> Actualizar a v<span id="latestVersion">-</span>
        </a>
      </div>
    </div>

    <div class="auto-rotate">
      <label>
        <input type="checkbox" id="autoRotate">
        <span><i class="fas fa-sync-alt"></i> Rotación Automática</span>
      </label>
      <input type="number" id="rotationInterval" min="1" max="60" value="5" disabled>
      <span>minutos</span>
    </div>

    <div class="button-group">
      <button id="scrapeBtn" class="primary">
        <i class="fas fa-search"></i> Buscar Proxies
      </button>
      <button id="clearInactiveBtn" class="warning">
        <i class="fas fa-broom"></i> Limpiar Inactivos
      </button>
      <button id="clearBtn" class="danger">
        <i class="fas fa-trash"></i> Limpiar Todos
      </button>
    </div>
  </div>
  <script src="js/popup.js"></script>
</body>
</html> 